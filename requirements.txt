# Bifrost API - FastAPI Stack Requirements

# =============================================================================
# Web Framework
# =============================================================================
fastapi
uvicorn[standard]
python-multipart  # Form data handling

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
sqlalchemy[asyncio]
asyncpg  # Async PostgreSQL driver
psycopg2-binary  # Sync PostgreSQL driver (for SDK/workflow threads)
alembic  # Database migrations
greenlet  # Required by SQLAlchemy async

# =============================================================================
# Message Queue (RabbitMQ)
# =============================================================================
aio-pika  # Async RabbitMQ client

# =============================================================================
# Cache & Sessions (Redis)
# =============================================================================
redis  # Includes async support (aioredis merged in v5.0)

# =============================================================================
# Authentication & Security
# =============================================================================
pyjwt[crypto]  # JWT tokens
pwdlib[bcrypt]  # Modern password hashing
python-jose[cryptography]  # Alternative JWT (compatibility)
cryptography  # Encryption utilities
pyotp  # TOTP/HOTP for MFA

# =============================================================================
# Configuration
# =============================================================================
pydantic
pydantic-settings
python-dotenv
email-validator  # Required by Pydantic for email validation

# =============================================================================
# HTTP & Async
# =============================================================================
httpx  # Async HTTP client
aiohttp
aiofiles

# =============================================================================
# Data Processing
# =============================================================================
PyYAML
python-dateutil
croniter  # CRON expression parsing
jmespath

# =============================================================================
# Templating
# =============================================================================
jinja2

# =============================================================================
# Git Integration
# =============================================================================
dulwich
PyGithub

# =============================================================================
# Background Jobs
# =============================================================================
apscheduler  # Scheduler

# =============================================================================
# Logging & Monitoring
# =============================================================================
python-json-logger
structlog

# =============================================================================
# Testing
# =============================================================================
pytest
pytest-asyncio
pytest-cov
pytest-env
websockets  # For E2E WebSocket tests

# =============================================================================
# Object Storage (S3/MinIO)
# =============================================================================
aiobotocore  # Async S3 client
types-aiobotocore[s3]  # Type stubs for S3

# =============================================================================
# Development
# =============================================================================
debugpy  # Remote debugging (VS Code attach)
ruff
